#!/usr/bin/env bash
# ----------------------------------------------------------------------------
# Rendered script from templates/hello_world/run.sh.j2
#
# Notes for users editing this template:
# - Lines like {{ ctx.params.name }} are Jinja expressions evaluated at render time.
# - The 'ctx' object provides runtime context:
#     * ctx.params       -> final parameters (e.g., ctx.params.name)
#     * ctx.project.name -> project name (may be empty in ad-hoc mode)
#     * ctx.now()        -> current time (ISO 8601)
#     * ctx.hostname()   -> short hostname
# - Jinja control flow is available:
#     * {% if ctx.params.get("include_time") %} ... {% endif %}
# - Anything starting with '#' is a bash comment (safe in the rendered script).
# ----------------------------------------------------------------------------
set -euo pipefail

echo "Hello {{ ctx.params.name }}!"
{% if ctx.project %}
echo "This project is {{ ctx.project.name }}"
{% else %}
echo "This project is (ad-hoc)"
{% endif %}

{% if ctx.params.get("include_time") %}
echo "Rendered at: {{ ctx.now() }} on {{ ctx.hostname() }}"
{% endif %}

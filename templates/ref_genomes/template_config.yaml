id: ref_genomes
description: "Reference genomes manager: download FASTA/annotation, optional ERCC augmentation, and optional index builds via nf-core/references. Optimized for ad-hoc usage (--out)."

params: {}

render:
  # In project mode, this renders under the project root. In ad-hoc mode (--out),
  # BPM overrides 'into' to '.' so files land directly under the provided folder.
  into: "/data/ref_genomes/"
  files:
    # Render run script and starter config
    - run.sh.j2      -> run.sh
    - runner.py      -> runner.py
    - genomes.yaml.j2 -> genomes.yaml
    - README.md   -> README.md
    # Bundle ERCC92 reference locally to avoid network dependencies
    - ERCC92/ERCC92.fa  -> ERCC92/ERCC92.fa
    - ERCC92/ERCC92.gtf -> ERCC92/ERCC92.gtf

run:
  entry: "run.sh"

tools:
  required: [python3, nextflow]
  optional: [docker, singularity, apptainer, curl, wget, gzip]
